# PlantUML åœ¨çº¿ç¼–è¾‘å™¨ - æ•…éšœæ’é™¤æŒ‡å—

## ğŸ”§ SVGæ¸²æŸ“é—®é¢˜å·²ä¿®å¤

### é—®é¢˜æè¿°
ä¹‹å‰å‡ºç°çš„é”™è¯¯ï¼š`Cannot read properties of undefined (reading 'displaySVGWithClickSupport')`

### ä¿®å¤å†…å®¹
1. âœ… æ·»åŠ äº†SVGClickHandlerå¯ç”¨æ€§æ£€æŸ¥
2. âœ… å®ç°äº†å¤‡ç”¨ç®€å•SVGæ˜¾ç¤ºæ¨¡å¼
3. âœ… å¢å¼ºäº†é”™è¯¯å¤„ç†å’Œè°ƒè¯•ä¿¡æ¯
4. âœ… æä¾›äº†æ¸è¿›å¼é™çº§æ–¹æ¡ˆ

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. åˆ·æ–°æµè§ˆå™¨
- è®¿é—®: http://localhost:8090
- æŒ‰ `Ctrl+F5` (Windows) æˆ– `Cmd+Shift+R` (Mac) å¼ºåˆ¶åˆ·æ–°

### 2. æ‰“å¼€å¼€å‘è€…å·¥å…·
- æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
- æŸ¥çœ‹æ˜¯å¦æœ‰JavaScripté”™è¯¯

### 3. æµ‹è¯•åŸºæœ¬åŠŸèƒ½
```plantuml
@startuml
Alice -> Bob: ä½ å¥½
Bob -> Alice: å›å¤
@enduml
```

### 4. æµ‹è¯•ç‚¹å‡»åŠŸèƒ½
- å¦‚æœSVGç‚¹å‡»å¤„ç†å™¨å¯ç”¨ï¼Œç‚¹å‡»å›¾è¡¨å…ƒç´ ä¼šè·³è½¬åˆ°ä»£ç 
- å¦‚æœä¸å¯ç”¨ï¼Œè‡³å°‘SVGä¼šæ­£å¸¸æ˜¾ç¤º

---

## ğŸ” è°ƒè¯•ä¿¡æ¯

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä½ åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š

**æ­£å¸¸æƒ…å†µ**:
```
DOMåŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–PlantUMLç¼–è¾‘å™¨
PlantUMLEditor æ„é€ å‡½æ•°å¼€å§‹
SVGClickHandler åˆå§‹åŒ–æˆåŠŸ
PlantUMLåœ¨çº¿ç¼–è¾‘å™¨å·²åˆå§‹åŒ– - ä¸“ç”¨SVGæ¨¡å¼
å¼€å§‹æ˜¾ç¤ºSVGç»“æœ
```

**é™çº§æ¨¡å¼**:
```
SVGClickHandler ç±»æœªæ‰¾åˆ°ï¼è¯·æ£€æŸ¥svg-click-handler.jsæ˜¯å¦æ­£ç¡®åŠ è½½
SVGç‚¹å‡»å¤„ç†å™¨ä¸å¯ç”¨ï¼Œä½¿ç”¨ç®€å•æ˜¾ç¤ºæ¨¡å¼
SVG ç®€å•æ˜¾ç¤ºæ¨¡å¼å®Œæˆ
```

---

## ğŸš€ åŠŸèƒ½éªŒè¯æ¸…å•

- [ ] **é¡µé¢åŠ è½½**: æ— JavaScripté”™è¯¯
- [ ] **ç¤ºä¾‹åŠ è½½**: å¯ä»¥é€‰æ‹©å’ŒåŠ è½½ç¤ºä¾‹
- [ ] **ä»£ç ç¼–è¾‘**: å¯ä»¥åœ¨å·¦ä¾§ç¼–è¾‘å™¨ä¸­è¾“å…¥ä»£ç 
- [ ] **SVGæ¸²æŸ“**: ç‚¹å‡»"æ¸²æŸ“å›¾è¡¨"æŒ‰é’®åå³ä¾§æ˜¾ç¤ºSVG
- [ ] **ç‚¹å‡»åŠŸèƒ½**: ç‚¹å‡»SVGå…ƒç´ å¯è·³è½¬åˆ°ä»£ç ï¼ˆå¦‚æœå¯ç”¨ï¼‰
- [ ] **çŠ¶æ€æç¤º**: åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºæ“ä½œç»“æœ

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä»ç„¶çœ‹åˆ°æ¸²æŸ“é”™è¯¯ï¼Ÿ
**A**: 
1. æ£€æŸ¥PlantUMLæœåŠ¡æ˜¯å¦åœ¨è¿è¡Œ: `docker ps | grep plantuml`
2. æ£€æŸ¥ç«¯å£8888æ˜¯å¦å¯è®¿é—®: `curl http://localhost:8888/svg`
3. æŸ¥çœ‹GoæœåŠ¡å™¨æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

### Q: SVGæ˜¾ç¤ºä½†ç‚¹å‡»åŠŸèƒ½ä¸å·¥ä½œï¼Ÿ
**A**: 
è¿™æ˜¯æ­£å¸¸çš„é™çº§è¡Œä¸ºã€‚SVGä¼šæ­£å¸¸æ˜¾ç¤ºï¼Œä½†ç‚¹å‡»åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨ã€‚
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦åŠ è½½äº†svg-click-handler.js
- ç¡®è®¤æ²¡æœ‰JavaScripté”™è¯¯é˜»æ­¢åŠ è½½

### Q: å®Œå…¨æ— æ³•æ¸²æŸ“ï¼Ÿ
**A**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. éªŒè¯PlantUMLä»£ç è¯­æ³•
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œæ ‡ç­¾é¡µï¼ŒæŸ¥çœ‹APIè¯·æ±‚æ˜¯å¦æˆåŠŸ

---

## ğŸ“‹ å½“å‰ç³»ç»ŸçŠ¶æ€

**åç«¯æœåŠ¡**: âœ… æ­£å¸¸è¿è¡Œåœ¨ç«¯å£8090
**PlantUMLæœåŠ¡**: âœ… åº”è¯¥è¿è¡Œåœ¨ç«¯å£8888
**APIæ¥å£**: âœ… æµ‹è¯•é€šè¿‡ï¼Œæ­£å¸¸è¿”å›SVGæ•°æ®
**å‰ç«¯ä»£ç **: âœ… å·²ä¿®å¤é”™è¯¯å¤„ç†

---

## ğŸ”„ é‡å¯æœåŠ¡

å¦‚æœä»æœ‰é—®é¢˜ï¼Œå°è¯•é‡å¯æœåŠ¡ï¼š

```bash
# åœæ­¢GoæœåŠ¡
lsof -ti:8090 | xargs kill -9 2>/dev/null

# é‡å¯GoæœåŠ¡
go run main.go

# æ£€æŸ¥PlantUML DockeræœåŠ¡
docker restart <plantuml_container_id>
```

---

ç°åœ¨è¯·åˆ·æ–°æµè§ˆå™¨å¹¶æµ‹è¯•åŠŸèƒ½ï¼ğŸ‰
